<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard | PMIST</title>
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="assets/css/login.css">
  <link rel="icon" href="https://demo.pmu.edu/PMIST-admin/assets/img/fav-icon.png" type="image/x-icon" />
    
</head>

<body>
  <div class="wrapper">
    <div class="login-box">
      <div class="login-header">
        <span>PMIST-Admin</span>
      </div>
      <div class="input_box">
        <input type="text" id="user" class="input-field" required>
        <label for="user" class="label">Username</label>
        <i class="bx bx-user icon"></i>
      </div>
      <div class="input_box">
        <input type="password" id="pass" class="input-field" required>
        <label for="pass" class="label">Password</label>
        <i class="bx bx-lock-alt icon" id="togglePassword"></i>
      </div>

      <div class="input_box">
        <input type="submit" class="input-submit" value="Go" onclick="handleLogin()">
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("togglePassword").addEventListener("click", function () {
        const passwordField = document.getElementById("pass");
        const type = passwordField.getAttribute("type") === "password" ? "text" : "password";
        passwordField.setAttribute("type", type);

        // Toggle icon class
        this.classList.toggle("bx-hide");
        this.classList.toggle("bx-show");
      });
    });

    function showError(element, message) {
      const errorSpan = document.createElement("span");
      errorSpan.className = "error-message";
      errorSpan.textContent = message;
      element.parentElement.appendChild(errorSpan);
    }

    function clearErrors() {
      const errors = document.querySelectorAll(".error-message");
      errors.forEach((error) => error.remove());
    }

    async function handleLogin() {
      clearErrors(); 
      const username = document.getElementById("user").value;
      const password = document.getElementById("pass").value; 
      let valid = true; 
      if (!username) {
        showError(document.getElementById("user"), "Username is required");
        valid = false;
      } 
      if (!password) {
        showError(document.getElementById("pass"), "Password is required");
        valid = false;
      } 
      if (!valid) {
        return;
      } 
    }

  </script>
</body>

</html>